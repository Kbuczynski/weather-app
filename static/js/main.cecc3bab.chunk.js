(window["webpackJsonpweather-app"]=window["webpackJsonpweather-app"]||[]).push([[0],{48:function(e,t,a){e.exports=a(61)},61:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(15),i=a.n(o),c=(a(53),a(45)),l=a(21),s=a.n(l),u=a(32),d=a(34),m=a(35),p=a(46),f=a(36),h=a(19),y=a(47),v=a(37),E=function(e){var t=e.city,a=e.deleteCity,n=t.name,o=t.id,i=t.main.temp;return r.a.createElement("tr",null,r.a.createElement("td",null,n),r.a.createElement("td",null,i," \u2103"),r.a.createElement("td",null,r.a.createElement(v.a,{variant:"danger",value:o,onClick:a},"X")))},g=a(63),b=function(e){var t=e.data,a=e.deleteCity;return r.a.createElement(g.a,{striped:!0,bordered:!0,hover:!0,variant:"dark"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"City"),r.a.createElement("th",null,"Temperature"),r.a.createElement("th",null,"Delete"))),r.a.createElement("tbody",null,t.map(function(e,t){return r.a.createElement(E,{key:t,city:e,deleteCity:a})})))},C=a(66),w=a(65),k=a(39),S=a(64),j=a(30),D=function(e){var t=e.handleInput,a=e.cityName,n=e.addCity,o=e.sortByTemperature,i=e.sortByCity;return r.a.createElement(C.a,{collapseOnSelect:!0,expand:"lg",bg:"dark",variant:"dark"},r.a.createElement(C.a.Brand,null,"Weather App"),r.a.createElement(C.a.Toggle,{"aria-controls":"responsive-navbar-nav"}),r.a.createElement(C.a.Collapse,{id:"responsive-navbar-nav"},r.a.createElement(w.a,{inline:!0,onSubmit:n},r.a.createElement(k.a,{type:"text",required:!0,autoFocus:!0,placeholder:"Enter city name",className:"mr-sm-2",value:a,onChange:t}),r.a.createElement(v.a,{variant:"outline-light",type:"submit",className:"mr-sm-2"},"Add")),r.a.createElement(S.a,{id:"dropdown-basic-button",title:"Sort by city",variant:"outline-light",className:"mr-sm-2"},r.a.createElement(j.a.Item,{onClick:i,href:"asc"},"A-Z"),r.a.createElement(j.a.Item,{onClick:i,href:"desc"},"Z-A")),r.a.createElement(S.a,{id:"dropdown-basic-button",title:"Sort by temperature",variant:"outline-light"},r.a.createElement(j.a.Item,{onClick:o,href:"asc"},"Ascending"),r.a.createElement(j.a.Item,{onClick:o,href:"desc"},"Descending"))))},x=a(67),O=function(e){var t=e.closeError;return r.a.createElement(x.a,{variant:"danger",onClose:t,dismissible:!0},r.a.createElement(x.a.Heading,null,"Something went wrong!"),r.a.createElement("p",null,"You probably made a typo or the city you are looking for is not in the database, please try again!"))},B="bf8a723e43bdef32b04b4cf5071a3b77",I=function(e){function t(e){var a;return Object(d.a)(this,t),(a=Object(p.a)(this,Object(f.a)(t).call(this,e))).handleInput=function(e){var t=e.target.value;a.setState({cityName:t})},a.addCity=function(e){e.preventDefault(),a.getData(),a.setState({cityName:""})},a.deleteCity=function(e){e.preventDefault();var t=parseInt(e.target.value);a.setState(function(e){return{data:e.data.filter(function(e){return e.id!==t})}})},a.getCoordinates=function(){var e=navigator.geolocation,t=Object(h.a)(a).addToData;e&&e.getCurrentPosition(function(){var e=Object(u.a)(s.a.mark(function e(a){var n,r,o,i,c,l;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.coords,r=n.latitude,o=n.longitude,i="https://api.openweathermap.org/data/2.5/weather?lat=".concat(r,"&lon=").concat(o,"&appid=").concat(B,"&units=metric"),e.next=5,fetch(i);case 5:return c=e.sent,e.next=8,c.json();case 8:l=e.sent,t(l);case 10:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}())},a.getData=Object(u.a)(s.a.mark(function e(){var t,n,r,o,i,c,l,u,d;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.state.cityName,n=Object(h.a)(a),r=n.addToData,o=n.isRepeats,i=n.handleError,c=n.closeError,l="https://api.openweathermap.org/data/2.5/weather?q=".concat(t,"&appid=").concat(B,"&units=metric"),e.next=5,fetch(l);case 5:if(!(u=e.sent).ok){e.next=13;break}return e.next=9,u.json();case 9:d=e.sent,o(d)&&200===d.cod?(r(d),c()):i(),e.next=14;break;case 13:i();case 14:case"end":return e.stop()}},e)})),a.sortByTemperature=function(e){e.preventDefault();var t=e.target.href.split("/")[e.target.href.split("/").length-1];a.setState(function(e){return{data:e.data.sort(function(e,n){var r=e.main.temp,o=n.main.temp;return a.comparison(t,r,o)})}})},a.sortByCity=function(e){e.preventDefault();var t=e.target.href.split("/")[e.target.href.split("/").length-1];a.setState(function(e){return{data:e.data.sort(function(e,n){var r=e.name.toUpperCase(),o=n.name.toUpperCase();return a.comparison(t,r,o)})}})},a.comparison=function(e,t,n){var r=0;return"asc"===e?r=a.ascendingComparison(t,n):"desc"===e&&(r=a.descendingComparison(t,n)),r},a.ascendingComparison=function(e,t){var a=0;return e>t?a=1:e<t&&(a=-1),a},a.descendingComparison=function(e,t){var a=0;return e>t?a=-1:e<t&&(a=1),a},a.addToData=function(e){a.setState(function(t){return{data:[].concat(Object(c.a)(t.data),[e])}})},a.isRepeats=function(e){return 0===a.state.data.filter(function(t){return t.name===e.name}).length},a.handleError=function(){return a.setState({error:!0})},a.closeError=function(){return a.setState({error:!1})},a.state={cityName:"",data:[],error:!1},a}return Object(y.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){this.getCoordinates()}},{key:"render",value:function(){var e=this.state,t=e.cityName,a=e.data,n=e.error,o=this.handleInput,i=this.addCity,c=this.deleteCity,l=this.closeError,s=this.sortByTemperature,u=this.sortByCity;return r.a.createElement(r.a.Fragment,null,r.a.createElement(D,{handleInput:o,cityName:t,addCity:i,sortByTemperature:s,sortByCity:u}),n&&r.a.createElement(O,{closeError:l}),r.a.createElement(b,{data:a,deleteCity:c}))}}]),t}(n.Component);i.a.render(r.a.createElement(I,null),document.getElementById("root"))}},[[48,1,2]]]);
//# sourceMappingURL=main.cecc3bab.chunk.js.map